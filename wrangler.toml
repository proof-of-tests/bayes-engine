name = "bayes-engine"
main = "result/worker/worker.js"
compatibility_date = "2024-10-01"

[build]
command = "nix build .#webapp"

# Serve static assets (HTML, CSS, WASM) from the assets directory
# CloudFlare Workers will automatically serve these files
[assets]
directory = "result/assets"

# Hyperdrive database binding for Postgres connectivity
[[hyperdrive]]
binding = "HYPERDRIVE"
id = "a88d53af1e344d80bdd1ab8f88692b14"

# E2E testing environment - uses pre-compiled files without running build
[env.e2e]
# No build command - assumes result/ directory already exists with compiled files
